# Override configuration for tn_cache metrics testing
# This file is mounted as config.toml.override in the kwild container

# Enable telemetry
[telemetry]
enable = true
otlp_endpoint = "otel-collector:4318"

# Configure tn_cache extension
[app.extensions.tn_cache]
enabled = true
# Resolution schedule - every 30 seconds for testing
resolution_schedule = "*/30 * * * * *"
# Configure test streams with short refresh intervals
# Using the deployer address from private key 0000...0001 which is 0x7E5F4552091A69125d5DfCb7b8C2659029395Bdf
streams_inline = '''[
  {
    "data_provider": "0x7E5F4552091A69125d5DfCb7b8C2659029395Bdf",
    "stream_id": "stcomposed1234567890123456789001",
    "schedule": "*/10 * * * * *",
    "from_timestamp": 1609459200
  },
  {
    "data_provider": "0x7E5F4552091A69125d5DfCb7b8C2659029395Bdf",
    "stream_id": "stcomposed1234567890123456789002",
    "schedule": "*/15 * * * * *",
    "from_timestamp": 1609459200
  },
  {
    "data_provider": "0x7E5F4552091A69125d5DfCb7b8C2659029395Bdf",
    "stream_id": "stcomposed1234567890123456789003",
    "schedule": "*/20 * * * * *",
    "from_timestamp": 1609459200
  }
]'''

# Enable debug logging to see cache operations
[log]
level = "debug"
format = "plain"